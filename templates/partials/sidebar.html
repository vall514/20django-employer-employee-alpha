<div class="w-64 {% if '/core/dashboard/' in request.path %}bg-primary-dark{% else %}bg-primary-dark{% endif %} text-white shadow-lg min-h-screen">
    <div class="p-4">
        <div class="flex items-center justify-center p-2 mb-6">
            <div class="flex flex-col items-center">
                <div class="w-16 h-16 rounded-full bg-primary flex items-center justify-center overflow-hidden">
                    {% if user.employeeprofile and user.employeeprofile.profile_picture %}
                        <img src="{{ user.employeeprofile.profile_picture.url }}" alt="Profile Picture" class="w-full h-full object-cover rounded-full">
                    {% else %}
                        <i class="fas fa-user-circle text-3xl"></i>
                    {% endif %}
                </div>
                <div class="mt-2 text-center">
                    <h3 class="text-white font-medium">{{ user.get_full_name }}</h3>
                    <p class="text-xs text-gray-300">{{ user.get_role_display }}</p>
                </div>
            </div>
        </div>
        <ul>
            <li class="mb-1">
                <a href="{% url 'core:dashboard' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/dashboard/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                    <i class="fas fa-tachometer-alt w-6"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            
            {% if user.role == 'employee' %}
                <li class="mb-1">
                    <a href="{% url 'core:leave_request' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/leave/request/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-calendar-alt w-6"></i>
                        <span>Request Leave</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:monthly_report' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/report/submit/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-file-alt w-6"></i>
                        <span>Submit Report</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:attendance_check_in' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/attendance/check-in/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-clock w-6"></i>
                        <span>Check In</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:employee_attendance_detail' user.id %}" class="sidebar-link rounded-md flex items-center {% if '/attendance/employee/' in request.path %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-chart-line w-6"></i>
                        <span>My Attendance</span>
                    </a>
                </li>
            {% elif user.role == 'hod' %}
                <li class="mb-1">
                    <a href="{% url 'core:leave_approve_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/leave/approve-list/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-check-circle w-6"></i>
                        <span>Approve Leaves</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:monthly_reports_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/reports/view/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-file-alt w-6"></i>
                        <span>View Reports</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:appraisal_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/appraisal/list/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-star w-6"></i>
                        <span>Submit Appraisals</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:attendance_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/attendance/view/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-calendar-check w-6"></i>
                        <span>View Attendance</span>
                    </a>
                </li>
            {% elif user.role == 'hr' %}
                <li class="mb-1">
                    <a href="{% url 'core:leave_approve_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/leave/approve-list/' %}{% if '/core/dashboard/' in request.path %}bg-gray-700{% else %}bg-primary{% endif %}{% endif %} hover:bg-gray-700">
                        <i class="fas fa-check-circle w-6"></i>
                        <span>Approve Leaves</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:monthly_reports_list' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/core/reports/view/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-file-alt w-6"></i>
                        <span>View Reports</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="{% url 'core:department_attendance' %}" class="sidebar-link rounded-md flex items-center {% if '/attendance/department' in request.path %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                        <i class="fas fa-chart-bar w-6"></i>
                        <span>Department Attendance</span>
                    </a>
                </li>
            {% endif %}
            
            <li class="my-6 border-t {% if '/core/dashboard/' in request.path %}border-primary{% else %}border-primary{% endif %} pt-4">
                <a href="{% url 'accounts:profile' %}" class="sidebar-link rounded-md flex items-center {% if request.path == '/accounts/profile/' %}{% if '/core/dashboard/' in request.path %}bg-primary{% else %}bg-primary{% endif %}{% endif %} hover:bg-primary">
                    <i class="fas fa-user w-6"></i>
                    <span>Profile</span>
                </a>
            </li>
            <li class="mb-1">
                <a href="{% url 'accounts:logout' %}" class="sidebar-link rounded-md flex items-center hover:bg-primary">
                    <i class="fas fa-sign-out-alt w-6"></i>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </div>
</div>